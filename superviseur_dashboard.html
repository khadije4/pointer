<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Superviseur - Gestion de Pointage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body { background-color: #f8f9fa; min-height: 100vh; padding: 15px; font-family: 'Montserrat', Arial, sans-serif; }
        .header { background: white; border-radius: 20px; padding: 25px; margin-bottom: 25px; box-shadow: 0 2px 20px rgba(0,0,0,0.08); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
        .header .welcome { flex: 1; }
        .header .welcome h1 { font-size: 24px; color: #00a86b; font-weight: 700; margin-bottom: 5px; }
        .header .welcome p { color: #666; font-size: 14px; }
        .header .user-info { display: flex; align-items: center; gap: 15px; background: linear-gradient(135deg, #00a86b, #70c2a4); padding: 12px 20px; border-radius: 25px; color: white; font-weight: 500; cursor: pointer; }
        .logout-btn { background: transparent; border: 2px solid #00a86b; color: #00a86b; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; font-size: 12px; }
        .logout-btn:hover { background: #00a86b; color: white; }
        .notification { background: #fff; border-radius: 15px; box-shadow: 0 2px 20px rgba(0,0,0,0.08); display: flex; align-items: flex-start; gap: 18px; padding: 18px 25px; margin-bottom: 25px; }
        .notification i { color: #00a86b; font-size: 28px; margin-top: 4px; }
        .notification-content h4 { margin: 0 0 4px 0; color: #00a86b; font-size: 18px; }
        .notification-content p { color: #666; font-size: 14px; }
        .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        .card { background: white; border-radius: 20px; padding: 30px; box-shadow: 0 2px 20px rgba(0,0,0,0.08); text-align: center; }
        .card h2 { color: #00a86b; font-size: 20px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .btn { padding: 8px 18px; background: #00a86b; color: #fff; border: none; border-radius: 5px; cursor: pointer; margin: 0 5px; }
        .btn:hover { background: #217dbb; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background: #f5f5f5; }
        .notif { background: #ffe0e0; color: #c0392b; padding: 8px 12px; border-radius: 5px; margin-bottom: 8px; }
        .comment-box { width: 100%; border-radius: 6px; border: 1px solid #ddd; padding: 6px; margin-top: 6px; }
        @media (max-width: 900px) { .dashboard-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="header">
        <div class="welcome">
            <h1>Tableau de Bord Superviseur</h1>
            <p>Bienvenue, Superviseur Administratif</p>
        </div>
        <div class="user-info" style="cursor:pointer;" onclick="window.location.href='Mon_Profil_Superviseur.html'">
            <i class="fas fa-user-shield"></i>
            <span>Superviseur</span>
        </div>
        <a href="index.html"><button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Déconnexion
        </button></a>
    </div>

    <div class="notification">
        <i class="fas fa-info-circle"></i>
        <div class="notification-content">
            <h4>Information</h4>
            <p>Consultez les statistiques globales, validez les justificatifs et surveillez les alertes d'absences pour l'ensemble de l'établissement.</p>
        </div>
    </div>

    <div class="dashboard-grid">
        <!-- Monitoring Global Card -->
        <div class="card">
            <h2><i class="fas fa-chart-pie"></i> Monitoring Global</h2>
            <table>
                <thead><tr><th>Classe</th><th>Taux d'absence</th><th>Présence</th></tr></thead>
                <tbody>
                    <tr><td>L2 MIAGE</td><td>8%</td><td>92%</td></tr>
                    <tr><td>L1 Informatique</td><td>12%</td><td>88%</td></tr>
                    <tr><td>L3 Mathématiques</td><td>5%</td><td>95%</td></tr>
                </tbody>
            </table>
            <div style="margin-top:18px;">
                <canvas id="absChart" width="220" height="100" style="background:#f8f9fa; border-radius:8px;"></canvas>
            </div>
        </div>
        <!-- Statistiques Professeurs Card -->
        <div class="card">
            <h2><i class="fas fa-chalkboard-teacher"></i> Statistiques Professeurs</h2>
            <table>
                <thead><tr><th>Professeur</th><th>Taux d'absence élèves</th></tr></thead>
                <tbody>
                    <tr><td>Ahmed Saleh</td><td>7%</td></tr>
                    <tr><td>Fatima Mint</td><td>10%</td></tr>
                    <tr><td>Mohamed Vall</td><td>4%</td></tr>
                </tbody>
            </table>
        </div>
        <!-- Statistiques Élèves Card -->
        <div class="card">
            <h2><i class="fas fa-users"></i> Statistiques Élèves</h2>
            <table>
                <thead><tr><th>Élève</th><th>Classe</th><th>Taux d'absence</th></tr></thead>
                <tbody>
                    <tr><td>Jean Dupont</td><td>L2 MIAGE</td><td>5%</td></tr>
                    <tr><td>Marie Martin</td><td>L1 Informatique</td><td>20%</td></tr>
                    <tr><td>Ali Ben</td><td>L3 Mathématiques</td><td>0%</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="dashboard-grid" style="grid-template-columns: 2fr 1fr;">
        <!-- Validation des Justificatifs -->
        <div class="card">
            <h2><i class="fas fa-file-signature"></i> Validation des Justificatifs</h2>
            <table id="justif-table">
                <thead><tr><th>Nom</th><th>Date</th><th>Motif</th><th>Statut</th><th>Commentaire</th><th>Action</th></tr></thead>
                <tbody>
                    <tr data-id="1">
                        <td>Marie Martin</td><td>2024-05-10</td><td>Maladie</td><td class="status-cell">En attente</td>
                        <td><input class="comment-box" placeholder="Ajouter un commentaire..."></td>
                        <td>
                            <button class="btn" onclick="validateJustif(this)">Valider</button>
                            <button class="btn" style="background:#e74c3c;" onclick="rejectJustif(this)">Rejeter</button>
                        </td>
                    </tr>
                    <tr data-id="2">
                        <td>Jean Dupont</td><td>2024-05-08</td><td>RDV médical</td><td class="status-cell" style="color:#00a86b;">Validé</td>
                        <td>Justifié par certificat</td>
                        <td><span style="color: #27ae60;">Validé</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- Notifications -->
        <div>
            <div class="card">
                <h2><i class="fas fa-bell"></i> Notifications</h2>
                <div class="notif">Alerte : Absence non justifiée répétée pour Marie Martin</div>
                <div class="notif">Alerte : Taux d'absence élevé détecté en L1 Informatique</div>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            if(confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                alert('Déconnexion en cours...');
            }
        }
        // Justificatif validation/rejection
        function validateJustif(btn) {
            const row = btn.closest('tr');
            const statusCell = row.querySelector('.status-cell');
            statusCell.textContent = 'Validé';
            statusCell.style.color = '#00a86b';
            row.querySelector('td:last-child').innerHTML = '<span style="color: #27ae60;">Validé</span>';
        }
        function rejectJustif(btn) {
            const row = btn.closest('tr');
            const statusCell = row.querySelector('.status-cell');
            statusCell.textContent = 'Rejeté';
            statusCell.style.color = '#e74c3c';
            row.querySelector('td:last-child').innerHTML = '<span style="color: #e74c3c;">Rejeté</span>';
        }
        // Placeholder for chart (simulate with a simple bar)
        window.onload = function() {
            var ctx = document.getElementById('absChart').getContext('2d');
            ctx.fillStyle = '#1a237e';
            ctx.fillRect(10, 80, 40, -60); // L2 MIAGE
            ctx.fillStyle = '#64b5f6';
            ctx.fillRect(70, 80, 40, -40); // L1 Info
            ctx.fillStyle = '#c0392b';
            ctx.fillRect(130, 80, 40, -70); // L3 Math
            ctx.font = '12px Arial';
            ctx.fillStyle = '#333';
            ctx.fillText('L2', 18, 95);
            ctx.fillText('L1', 78, 95);
            ctx.fillText('L3', 138, 95);
        }
    </script>
</body>
</html> 